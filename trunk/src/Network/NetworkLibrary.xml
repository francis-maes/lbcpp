<?xml version="1.0" encoding="UTF-8"?>

<library name="Network" directory="Network">
  <include file="lbcpp/Network/NetworkClient.h"/>

  <class name="NetworkClient" base="Object" abstract="yes"/>

  <!-- NetworkRequest -->
  <class name="NetworkRequest" base="Object">
    <variable type="String" name="identifier"/>
    <variable type="String" name="projectName"/>
    <variable type="String" name="source"/>
    <variable type="String" name="destination"/>
    <variable type="PositiveInteger" name="requiredCpus"/>
    <variable type="PositiveInteger" name="requiredMemory"/>
    <variable type="PositiveInteger" name="requiredTime"/>
    <variable type="Integer" name="status"/>
  </class>
  
  <class name="WorkUnitNetworkRequest" base="NetworkRequest">
    <variable type="WorkUnit" name="workUnit"/>
  </class>
  
  <!-- NetworkInterface -->
  <class name="NetworkInterface" base="Object">
  <!-- TODO: <variable type="ExecutionContext" name="context"/> -->
    <variable type="NetworkClient" name="client"/>
  </class>
  
  <class name="NodeNetworkInterface" base="NetworkInterface" abstract="yes"/>
  
  <class name="ClientNodeNetworkInterface" base="NodeNetworkInterface"/>
  <class name="SgeNodeNetworkInterface" base="NodeNetworkInterface"/>
  <class name="ManagerNodeNetworkInterface" base="NodeNetworkInterface">
    <variable type="GenericVector[NetworkRequest]" name="requests"/>
  </class>
  
  <!-- NetworkNotification -->
  <class name="NetworkNotification" base="Notification" abstract="yes"/>
  <class name="NodeNetworkNotification" base="NetworkNotification" abstract="yes"/>
  <class name="CloseCommunicationNotification" base="NetworkNotification"/>
  <class name="GetNodeNameNotification" base="NodeNetworkNotification"/>
  <class name="PushWorkUnitNotification" base="NodeNetworkNotification">
    <variable type="WorkUnitNetworkRequest" name="request"/>
  </class>
  <class name="GetWorkUnitStatusNotification" base="NodeNetworkNotification">
    <variable type="NetworkRequest" name="request"/>
  </class>
  <class name="GetExecutionTraceNotification" base="NodeNetworkNotification">
    <variable type="NetworkRequest" name="request"/>
  </class>
  
  <!-- WorkUnit -->
  <class name="ManagerWorkUnit" base="WorkUnit">
    <variable type="PositiveInteger" name="port"/>
  </class>
  
  <class name="GridWorkUnit" base="WorkUnit">
    <variable type="String" name="gridName"/>
    <variable type="String" name="gridEngine"/>
    <variable type="String" name="hostName"/>
    <variable type="PositiveInteger" name="port"/>
  </class>
  
  <class name="DumbWorkUnit" base="WorkUnit"/>
  <class name="ClientWorkUnit" base="WorkUnit">
    <variable type="String" name="clientName"/>
    <variable type="String" name="hostName"/>
    <variable type="PositiveInteger" name="port"/>
  </class>

</library>
