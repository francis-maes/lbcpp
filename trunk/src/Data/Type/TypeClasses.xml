<?xml version="1.0" encoding="UTF-8"?>

<file name="Type" directory="Data/Type">
  <namespace name="lbcpp">

    <type name="Variable" base="" implementation="TopLevelType"/>

    <!-- Builtin Types -->
    <type name="Nil" base="Variable" implementation="NilType"/>
    <type name="Boolean" base="Variable" implementation="BooleanType"/>
    <type name="Integer" base="Variable" implementation="IntegerType"/>
    <type name="EnumValue" base="Integer" implementation="IntegerType"/>

    <type name="Double" base="Variable" implementation="DoubleType"/>
    <type name="Probability" base="Double" implementation="ProbabilityType"/>

    <type name="String" base="Variable" implementation="StringType"/>
    <type name="File" base="String" implementation="FileType"/>
    <templateType name="Pair" implementation="PairTemplateType"/>

    
    <!-- Object -->
    <class name="Object" base="Variable" abstract="yes">
      <!-- <variable type="Class" name="thisClass"/> -->
    </class>
    
    <class name="NameableObject" base="Object" abstract="yes">
      <variable type="String" name="name"/>
    </class>

    <!-- Type -->
    <class name="Type" base="NameableObject" abstract="yes">
      <variable type="Type" name="baseType"/>
      <variable type="TemplateType" name="templateType"/>
      <!-- <variable type="ObjectVector[Type]" name="templateArguments"/> -->
      <code>
        virtual VariableValue createFromString(const String&amp; value, MessageCallback&amp; callback) const
        {return Type::get(value, callback);}

        virtual VariableValue createFromXml(XmlElement* xml, MessageCallback&amp; callback) const
        {return createFromString(xml->getAllSubText(), callback);}
      </code>
    </class>

    <class name="Enumeration" base="Type" abstract="yes">
      <variable type="String" name="oneLetterCodes"/>
      <code>
        virtual VariableValue createFromString(const String&amp; value, MessageCallback&amp; callback) const
        {return Type::get(value, callback);}

        virtual VariableValue createFromXml(XmlElement* xml, MessageCallback&amp; callback) const
        {return createFromString(xml->getAllSubText(), callback);}
      </code>
    </class>

    <class name="Class" base="Type" abstract="yes"/>
    
    <!-- Template Type -->
    <class name="TemplateType" base="NameableObject" abstract="yes"/>
    
  </namespace>
</file>
