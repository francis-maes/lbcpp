<?xml version="1.0" encoding="UTF-8"?>

<library name="LuapeSandBox" directory="Luape">

  <!-- MC Objective -->
  <class name="MCObjective" abstract="yes"/>

  <class name="LuapeMCObjective" base="MCObjective" abstract="yes">
    <variable type="LuapeInference" name="problem"/>
  </class>
  <class name="SymbolicRegressionMCObjective" base="LuapeMCObjective"/>

  <!-- MC Algorithm -->
  <class name="MCAlgorithm" abstract="yes"/>
  <class name="RolloutMCAlgorithm" base="MCAlgorithm" shortName="rollout"/>
  <class name="DecoratorMCAlgorithm" base="MCAlgorithm" abstract="yes">
    <variable type="MCAlgorithm" name="algorithm"/>
  </class>
  <class name="IterateMCAlgorithm" base="DecoratorMCAlgorithm" shortName="iterate">
    <variable type="PositiveInteger" name="numIterations"/>
  </class>
  <class name="LookAheadMCAlgorithm" base="DecoratorMCAlgorithm" shortName="lookAhead">
    <variable type="Double" name="numActions"/>
  </class>
  <class name="StepByStepMCAlgorithm" base="DecoratorMCAlgorithm" shortName="step">
    <variable type="Boolean" name="useGlobalBest"/>
  </class>

  <!--MC Algorithms Luape Functions -->
  <class name="MCAlgorithmLuapeFunction" base="LuapeFunction" abstract="yes"/>
  <class name="IterateMCAlgorithmLuapeFunction" base="MCAlgorithmLuapeFunction"/>
  <class name="StepMCAlgorithmLuapeFunction" base="MCAlgorithmLuapeFunction"/>
  <class name="LookAheadMCAlgorithmLuapeFunction" base="MCAlgorithmLuapeFunction"/>

  <!-- MC Optimizer -->
  <class name="MCOptimizer" base="Optimizer">
    <variable type="MCAlgorithm" name="algorithm"/>
    <variable type="PositiveInteger" name="budget"/>
  </class>

  <!-- Bandit Pool -->
  <class name="MCBanditPool">
    <variable type="Function" name="objective"/>
    <variable type="Double" name="explorationCoefficient"/>
    <variable type="Boolean" name="useMultiThreading"/>
  </class>

  <!--
  <class name="BanditPoolWeakLearner" base="LuapeLearner">
    <constructor arguments="size_t maxBandits, size_t maxDepth"/>
    <variable type="PositiveInteger" name="maxBandits"/>
    <variable type="PositiveInteger" name="maxDepth"/>
  </class>
  -->
  
  <!-- Sand Box -->
  <class name="MetaMCSandBox" base="WorkUnit">
    <variable type="PositiveInteger" name="budget"/>
    <variable type="PositiveInteger" name="complexity"/>
    <variable type="PositiveInteger" name="numRuns"/>
  </class>

  <class name="LuapeSandBox" base="WorkUnit">
    <variable type="File" name="trainFile"/>
    <variable type="File" name="testFile"/>
    <variable type="PositiveInteger" name="maxExamples"/>
    <variable type="PositiveInteger" name="treeDepth"/>
    <variable type="PositiveInteger" name="complexity"/>
    <variable type="Double" name="relativeBudget"/>
    <variable type="PositiveInteger" name="numIterations"/>
    <variable type="PositiveInteger" name="minExamplesForLaminating"/>
    <variable type="Boolean" name="useVariableRelevancies"/>
    <variable type="Boolean" name="useExtendedVariables"/>
    <variable type="Boolean" name="verbose"/>
    <variable type="File" name="plotFile"/>
  </class>

  <class name="RelevanceDrivenFeatureGenerationLearner" base="IterativeLearner">
    <variable type="LuapeLearner" name="baseLearner"/>
    <variable type="PositiveInteger" name="numActiveVariables"/>
  </class>


  <class name="LuapeClassificationWorkUnit" base="WorkUnit" abstract="yes">
    <variable type="PositiveInteger" name="maxExamples"/>
    <variable type="Boolean" name="verbose"/>
    <variable type="Boolean" name="useExtendedOperators"/>
    <variable type="Boolean" name="useVectorOperators"/>
  </class>
  
  <class name="ECML12WorkUnit" base="LuapeClassificationWorkUnit">
    <variable type="File" name="dataFile"/>
    <variable type="String" name="method"/>
    <variable type="PositiveInteger" name="ensembleSize"/>
    <variable type="PositiveInteger" name="foldNumber"/>
    <variable type="PositiveInteger" name="featureLength"/>
    <variable type="Double" name="featureBudget"/>
    <variable type="MCAlgorithm" name="searchAlgorithm"/>
  </class>
  
  <class name="LuapeClassificationSandBox" base="LuapeClassificationWorkUnit">
    <variable type="File" name="dataDirectory"/>
  </class>

  <!-- Soft Stumps -->
  <class name="SoftStumpLuapeFunction" base="LuapeFunction">
    <variable type="Double" name="threshold"/>
    <variable type="Double" name="gamma"/>
  </class>
  <class name="SoftStumpWeakLearner" base="DecoratorLearner">
    <variable type="Double" name="gamma"/>
  </class>

  <!-- Luape Node Search --> 
  <class name="LuapeNodeSearchProblem" base="LuapeInference" abstract="yes"/>
  <class name="LuapeBanditFormulaSearchProblem" base="LuapeNodeSearchProblem">
    <variable type="BanditProblemSampler" name="problemSampler"/>
    <variable type="PositiveInteger" name="horizon"/>
  </class>

  <class name="LuapeFormulaDiscoverySandBox" base="WorkUnit">
    <variable type="LuapeNodeSearchProblem" name="problem"/>
    <variable type="PositiveInteger" name="complexity"/>
    <variable type="Double" name="explorationCoefficient"/>
    <variable type="PositiveInteger" name="numIterations"/>
    <variable type="PositiveInteger" name="numStepsPerIteration"/>
    <variable type="Boolean" name="useMultiThreading"/>
  </class>
  
</library>
