<?xml version="1.0" encoding="UTF-8"?>

<library name="ProteinWorkUnit" directory="WorkUnit">

  <class name="ProteinInferenceEvaluatorWorkUnit" base="WorkUnit">
    <variable type="File" name="inputDirectory" description="Input protein directory" shortName="in"/>
    <variable type="File" name="outputDirectory" description="Output protein directory" shortName="o"/>
    <variable type="File" name="inferenceFile" description="File of the inference to use" shortName="inf"/>
    <variable type="PositiveInteger" name="numThreads" description="The number of thread" shortName="t"/>
  </class>

  <class name="CaspPDBtoValidPDBWorkUnit" base="WorkUnit">
    <variable type="File" name="pdbDirectory" description="Input CASP PDB directory" shortName="in"/>
    <variable type="File" name="fastaFile" description="Input FASTA file (comments line must be the CASP PDB file name and the sequence must exactly be the same sequence that the tertiary structure of the CASP PDB file)" shortName="f"/>
    <variable type="File" name="outputDirectory" description="Output directory" shortName="o"/>
  </class>

  <class name="CompileProteinsWorkUnit" base="WorkUnit">
    <variable type="File" name="inputProteinFile" description="Input protein file" shortName="in"/>
    <variable type="File" name="pssmFile" description="PSSM file" shortName="pssm"/>
    <variable type="File" name="dsspFile" description="DSSP file" shortName="dssp"/>
    <variable type="File" name="outputProteinFile" description="Output file" shortName="o"/>
  </class>

  <class name="ConvertPDBToProteinWorkUnit" base="WorkUnit">
    <variable type="File" name="inputFile" description="The PDB (resp. Protein) input file" shortName="in"/>
    <variable type="File" name="outputFile" description="The Protein (resp. PDB) output file" shortName="o"/>
  </class>

  <!-- ProteinLearner -->
  <class name="ProteinLearner" base="WorkUnit">
    <variable type="File" name="supervisionDirectory" shortName="s"/>
    <variable type="File" name="inputDirectory" shortName="i"/>
    <variable type="PositiveInteger" name="maxProteins" shortName="m" description="The maximum number of proteins to load per dataset; 0 if not maximum"/>
    <variable type="ProteinPredictorParameters" name="parameters" shortName="p" description="Protein predictor parameters"/>
    <variable type="GenericVector[VariablesEnumeration[Protein]]" name="proteinTargets" shortName="t" description="The protein targets to be learned, to choose among: ss3,ss8,stal,sa20,dr"/>
    <variable type="PositiveInteger" name="numStacks" shortName="n" description="The number of re-estimation stacks"/>
    <variable type="Boolean" name="sequentialLearning" shortName="sl" description="Use a sequential approche"/>
    <variable type="File" name="predictionDirectory" shortName="o" description="The directory where to save predictions (optional)"/>
    <variable type="File" name="learnedModelFile" shortName="l" description="The file where to save learned model (optional)"/>
  </class>
  
  <class name="ProteinLearnerObjectiveFunction" base="SimpleUnaryFunction"/>
         
  <!-- BricoBox -->
  <class name="CheckDisulfideBondsWorkUnit" base="WorkUnit">
    <variable type="File" name="proteinDirectory"/>
  </class>
  
  <class name="CheckARFFDataFileParserWorkUnit" base="WorkUnit">
    <variable type="File" name="dataFile"/>
  </class>
  
  <class name="SaveObjectProgram" base="WorkUnit">
    <variable type="String" name="className" desc="The name of the object class to save" shortName="c"/>
    <variable type="File" name="outputFile" desc="The output file" shortName="o"/>
  </class>

  <class name="CheckXmlElementWorkUnit" base="WorkUnit">
    <variable type="XmlElement" name="aaa"/>
  </class>

  <class name="Save1DProteinTargets" base="WorkUnit">
    <variable type="File" name="inputProtein" shortName="in"/>
    <variable type="File" name="outputProtein" shortName="out"/>
  </class>
  
  <class name="LoadModelAndEvaluate" base="WorkUnit">
    <variable type="File" name="modelFile" shortName="m"/>
    <variable type="File" name="proteinDirectory" shortName="i"/>
  </class>
  
  <class name="DebugExecutionTraceLoading" base="WorkUnit">
    <variable type="File" name="traceFile" shortName="i"/>
  </class>
    
  <class name="ConvertFabienFileToProtein" base="WorkUnit">
    <variable type="File" name="inputDirectory" shortName="i"/>
    <variable type="File" name="outputDirectory" shortName="o"/>
  </class>
  
  <class name="ConvertSPXFileToProteins" base="WorkUnit">
    <variable type="File" name="spxFile"/>
    <variable type="File" name="outputDirectory"/>
  </class>

  <class name="GenerateFoldsWorkUnit" base="WorkUnit">
    <variable type="File" name="sourceDirectory" shortName="i"/>
    <variable type="File" name="destinationDirectory" shortName="o"/>
    <variable type="PositiveInteger" name="numFolds" shortName="n"/>
  </class>

  <class name="ProteinMaxLength" base="WorkUnit">
    <variable type="File" name="inputDirectory" shortName="i"/>
  </class>
  
  <class name="CheckGreedyDisulfideBondWorkUnit" base="WorkUnit">
    <variable type="File" name="inputFile"/>
  </class>

  <class name="ProteinStatisticsWorkUnit" base="WorkUnit">
    <variable type="File" name="inputDirectory" shortName="i"/>
  </class>

  <class name="BFSTestParameter" base="Object">
    <variable type="Double" name="a"/>
    <variable type="Double" name="b"/>
    <variable type="Double" name="c"/>
  </class>
  <class name="BFSTestObjectiveFunction" base="SimpleUnaryFunction"/>
  <class name="BFSTestWorkUnit" base="WorkUnit"/>

  <class name="LSHTestWorkUnit" base="WorkUnit"/>

  <class name="NormalizeDoubleVector" base="Function">
    <variable type="GenericVector[Double]" name="variances"/>
    <variable type="GenericVector[Double]" name="means"/>
  </class>

  <class name="NormalizeDoubleVectorBatchLearner" base="BatchLearner">
    <constructor arguments="bool computeVariances, bool computeMeans" returnType="BatchLearner"/>
    <variable type="Boolean" name="computeVariances"/>
    <variable type="Boolean" name="computeMeans"/>
  </class>

  <class name="PrintFeaturesFunction" base="Function"/>
  <class name="NormalizeExampleCompositeFunction" base="CompositeFunction">
    <variable type="Function" name="decorated"/>
  </class>

  <!-- BEGIN CysteinBox -->
<!-- FIXME: Optimizer
  <class name="CysteinLearnerParameters" base="Object">
    <variable type="ProteinPredictorParameters" name="predictorParameters"/>
    <variable type="String" name="foldDirectory"/>
  </class>
  
  <class name="CysteinLearnerFunction" base="SimpleUnaryFunction"/>

  <class name="CysteinCrossValidationOptimizer" base="Optimizer">
    <variable type="ProteinPredictorParameters" name="parameters"/>
    <variable type="String" name="path"/>
  </class>

  <class name="CysteinCrossValidationFunction" base="SimpleUnaryFunction">
    <variable type="String" name="path"/>
  </class>

  <class name="CParameterOptimizer" base="Optimizer">
    <variable type="Lin09Parameters" name="parameters"/>
  </class>

  <class name="COptimizerFunction" base="SimpleUnaryFunction">
    <variable type="String" name="inputDirectory"/>
  </class>

  <class name="BFSCysteinProteinLearner" base="WorkUnit">
    <variable type="String" name="inputDirectory"/>
  </class>

  <class name="CysteinLearnerWorkUnit" base="WorkUnit">
    <variable type="File" name="inputDirectory"/>
    <variable type="Double" name="kernelGamma" shortName="g"/>
    <variable type="Double" name="learningRate" shortName="lr"/>
    <variable type="PositiveInteger" name="numNeighbors" shortName="kNN"/>
  </class>

  <class name="GaussianKernelParameters" base="Object">
    <variable type="Double" name="gamma"/>
    <variable type="Double" name="C"/>
  </class>
  
  <class name="CysteinCrossValidationWorkUnit" base="WorkUnit">
    <variable type="String" name="inputPath"/>
  </class>
-->
  <!-- END CysteinBox -->

  <!-- BEGIN LargeBox -->
  <class name="CompareSPXFromFileAndFromPDB" base="WorkUnit">
    <variable type="File" name="fromFile"/>
    <variable type="File" name="fromPdb"/>
    <variable type="File" name="output"/>
  </class>

  <class name="ProteinLearnerFunction" base="SimpleUnaryFunction">
    <variable type="VariablesEnumeration[Protein]" name="target"/>
    <variable type="String" name="proteinsPath"/>
    <variable type="Container[Protein]" name="trainingProteins"/>
    <variable type="Container[Protein]" name="testingProteins"/>
  </class>

  <class name="BestFirstSearchProteinLearner" base="WorkUnit">
    <variable type="Boolean" name="loadProteins"/>
    <variable type="String" name="proteinsPath" shortName="in"/>
    <variable type="VariablesEnumeration[Protein]" name="target" shortName="t"/>
    <variable type="String" name="optimizerFile" shortName="o"/>
    <variable type="String" name="learningMachine" shortName="m"/>
  </class>

  <class name="ExportPredictionWorkUnit" base="WorkUnit">
    <variable type="String" name="proteinDirectory" shortName="in"/>
  </class>

  <class name="ExportFeaturesWorkUnit" base="WorkUnit">
    <variable type="String" name="proteinDirectory" shortName="in"/>
  </class>

  <class name="SamplingFunction" base="SimpleUnaryFunction"/>
  <class name="TestBanditEDAOptimizer" base="WorkUnit"/>
  <!-- END LargeBox -->

  <!-- BEGIN BanditBox -->
  <class name="BanditCandidate" base="Object">
<!-- No need to appear in trace
    <variable type="Function" name="function"/>
    <variable type="Stream" name="examples"/> -->
    <variable type="Variable" name="parameters"/>
  </class>
  <class name="BanditFunction" base="SimpleUnaryFunction"/>
  <class name="DoubleVectorContainerSet" base="Object"/>
  <class name="NormalizeDoubleVectorSet" base="Object">
    <variable type="GenericVector[NormalizeDoubleVector]" name="normalizers"/>
  </class>
  <class name="ContainerBasedStream" base="Stream">
    <variable type="Container[Variable]" name="container"/>
    <variable type="PositiveInteger" name="nextIndex"/>
  </class>
  <class name="FunctionBasedStream" base="Stream">
    <variable type="Function" name="function"/>
<!--    <variable type="GenericVector[Variable]" name="inputs"/> -->
    <variable type="PositiveInteger" name="nextIndex"/>
  </class>
  <class name="BinaryFunctionBasedStream" base="FunctionBasedStream"/>
  <class name="PairBinaryFunctionBasedStream" base="BinaryFunctionBasedStream">
    <variable type="Type" name="elementsType"/>
<!--    <variable type="GenericVector[Variable]" name="outputs"/> -->
  </class>
  <class name="StreamBasedStandardDeviationNormalizer" base="Function">
    <variable type="GenericVector[Double]" name="standardDeviation"/>
  </class>

  <class name="ProteinBanditSampler" base="Sampler">
    <variable type="Sampler" name="decorated"/>
    <variable type="VariablesEnumeration[Protein]" name="target"/>
    <variable type="LargeProteinPredictorParameters" name="largePredictor"/>
<!--    <variable type="Container[Protein]" name="trainingProteins"/>
        <variable type="Container[Protein]" name="testingProteins"/>
        <variable type="DoubleVectorContainerSet" name="trainingFeaturesSet"/>
        <variable type="DoubleVectorContainerSet" name="testingFeaturesSet"/>
        <variable type="NormalizeDoubleVectorSet" name="normalizer"/>
        <variable type="Container[Variable]" name="trainingSupervisions"/>
        <variable type="Container[Variable]" name="testingSupervisions"/> -->
  </class>
  <class name="ProteinBanditTestFeatures" base="WorkUnit">
    <variable type="String" name="proteinsDirectory" shortName="in"/>
  </class>
  <class name="ProteinBanditTestSampler" base="WorkUnit">
    <variable type="String" name="proteinsPath" shortName="in"/>
  </class>
  <class name="ProteinBanditWorkUnit" base="WorkUnit">
    <variable type="String" name="proteinsPath" shortName="in"/>
  </class>
  <!-- END BanditBox -->
</library>
