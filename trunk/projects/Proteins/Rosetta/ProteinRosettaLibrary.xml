<?xml version="1.0" encoding="UTF-8"?>

<library name="ProteinRosetta" directory="Rosetta">

  <!-- Imports -->
  <import name="ProteinRosettaMover"/>
  <import name="ProteinRosettaOptimizer"/>
  <import name="ProteinRosettaSampler"/>
  
  <!-- Movers -->
  <class name="ProteinMover" base="Object" abstract="yes">
    <variable type="String" name="moverName" shortName="n" description="Name of the mover"/>
  </class>
  
  <class name="RigidBodyMover" base="ProteinMover" abstract="yes">
    <variable type="PositiveInteger" name="indexResidueOne" shortName="r1" description="Index of first residue"/>
    <variable type="PositiveInteger" name="indexResidueTwo" shortName="r2" description="Index of second residue"/>
  </class>
  
  <!-- Optimizers -->
  <class name="ProteinEDAOptimizer" base="Object">
    <variable type="Double" name="energyWeight" description="The ponderation factor between energy and structure score"/>
  </class>
  
  <class name="ProteinOptimizer" base="Object" abstract="yes">
    <variable type="GenericVector[String]" name="nameScopes" description="Name of the different scopes used for verbosity in explorer"/>
    <variable type="Boolean" name="verbosity" description="Indicates if there is verbosity to the explorer"/>
    <variable type="Boolean" name="saveToFile" description="Indicates if there is verbosity to files"/>
    <variable type="Boolean" name="nameScopesSet" description="Indicates if the name scopes are set"/>
    <variable type="Double" name="frequencyVerbosity" description="Frequency at which information are output"/>
    <variable type="Integer" name="numOutputFiles" description="Number of files that have to be created with current structure information"/>  
    <variable type="String" name="name" description="Name of the protein optimized"/>
    <variable type="File" name="outputDirectory" description="Output directory where the files are going to be created"/>
  </class>
  
  <!-- Samplers -->
  <class name="Sampler" base="Object" abstract="yes">
  </class>
  
  <class name="ContinuousSampler" base="Sampler" abstract="yes">
    <variable type="Double" name="mean" shortName="m" description="Mean of the distribution"/>
    <variable type="Double" name="std" shortName="s" description="Standard deviation of the distribution"/>
  </class>

  <class name="DiscreteSampler" base="Sampler" abstract="yes">
  </class>

  <class name="SequentialSampler" base="Sampler" abstract="yes">
    <variable type="VariableVector" name="samplers"/>
  </class>

  <class name="CompositeSampler" base="Sampler" abstract="yes">
    <variable type="VariableVector" name="sons"/>
  </class>
  
  <!-- WorkUnits -->
  <class name="RosettaTest" base="WorkUnit">
    <variable type="Integer" name="arg" shortName="a" description="An input argument to RosettaTest"/>
    <variable type="String" name="proteinsDir" shortName="d" description="Directory of proteins to load"/>
  </class>

  <class name="ProteinFeaturesGeneratorWorkUnit" base="WorkUnit">
    <variable type="String" name="proteinsDirectory" shortName="i" description="Directory of input proteins to load"/>
    <variable type="String" name="resultsDirectory" shortName="o" description="Directory where to store the outputs"/>
    <variable type="Integer" name="timesFeatureGeneration" shortName="t" description="Number of generate output files for one protein. So one file generated every maxNumberIterations/timesFeatureGeneration."/>
    <variable type="Integer" name="maxNumberIterations" shortName="m" description="Max number of desired iterations for the optimization"/>
  </class>
  
  <class name="ProteinOptimizerWorkUnit" base="CompositeWorkUnit">
  </class>
  
  <class name="XmlToPDBConverterWorkUnit" base="WorkUnit">
    <variable type="String" name="proteinsDirectory" shortName="i" description="Directory of input proteins to load"/>
    <variable type="String" name="resultsDirectory" shortName="o" description="Directory where to store the outputs"/>
  </class>
  
  <class name="EnergyEvaluationWorkUnit" base="WorkUnit">
    <variable type="String" name="proteinsDirectory" shortName="i" description="Directory of input proteins to load"/>
  </class>
  
  <class name="FilesHarmonizationWorkUnit" base="WorkUnit">
    <variable type="String" name="proteinsDirectory" shortName="i" description="Directory of input proteins to load"/>
  </class>  
  
  <class name="SamplerGenerationWorkUnit" base="WorkUnit">
    <variable type="String" name="referenceDirectory" description="Directory where one can find the real proteins"/>
    <variable type="String" name="targetDirectory" description="Directory where one can find the intermediate proteins"/>
    <variable type="String" name="outputDirectory" description="Directory where to store the samplers created for each intermediate protein"/>
    <variable type="Double" name="energyWeight" description="The weight of the energy in the score of the EDA optimizer"/>
    <variable type="Integer" name="numIterations" description="Maximum number of iterations performed by the EDA optimizer"/>
    <variable type="Integer" name="numSamples" description="Number of samples generated at each iteration of the EDA optimization"/>  
  </class>
  
  <class name="ConformationSortingWorkUnit" base="WorkUnit">
    <variable type="String" name="referenceDir"/>
    <variable type="String" name="targetDir"/>
    <variable type="Boolean" name="del"/>
  </class>
  
  
</library>
